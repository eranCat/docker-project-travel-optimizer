services:
  - type: web
    name: travel-frontend
    runtime: docker
    dockerfilePath: ./frontend/Dockerfile.dev
    buildCommand: null
    startCommand: null
    envVars:
      - fromGroup: global-env
    plan: starter
    autoDeploy: true
    healthCheckPath: /
    env: node

  - type: web
    name: travel-backend
    runtime: docker
    dockerfilePath: ./backend/Dockerfile
    buildCommand: null
    startCommand: null
    envVars:
      - fromGroup: global-env
    plan: starter
    autoDeploy: true
    healthCheckPath: /health

  - type: web
    name: maps-service
    runtime: docker
    dockerfilePath: ./maps_service/Dockerfile
    buildCommand: null
    startCommand: null
    envVars:
      - fromGroup: global-env
    plan: starter
    autoDeploy: true
    healthCheckPath: /health

  - type: web
    name: llm-service
    runtime: docker
    dockerfilePath: ./llm_service/Dockerfile
    buildCommand: null
    startCommand: null
    envVars:
      - fromGroup: global-env
    plan: starter
    autoDeploy: true
    healthCheckPath: /health

# Optional: Background job to run tests
  - type: worker
    name: test-runner
    runtime: docker
    dockerfilePath: ./tests/Dockerfile
    startCommand: pytest -v
    envVars:
      - fromGroup: global-env
    autoDeploy: false
